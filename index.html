// ... (Code cũ)
        // 3. Bot Status
        onValue(ref(db, 'hr_status'), snap => {
            const data = snap.val() || {};
            const grid = document.getElementById('botGrid');
            grid.innerHTML = '';
            const now = Math.floor(Date.now() / 1000);

            Object.keys(data).forEach(key => {
                const bot = data[key];
                if ((now - (bot.timestamp || 0)) > 120) return;
                
                let statusColor = "bg-gray-800 border-gray-700";
                let icon = "fa-robot";
                let badge = "ONLINE";

                // LOGIC MÀU SẮC MỚI
                if (bot.type === "CAPTCHA") {
                    // CẢNH BÁO CAPTCHA: MÀU VÀNG CAM NHẤP NHÁY
                    statusColor = "bg-yellow-900/50 border-yellow-500 blink-bg";
                    icon = "fa-triangle-exclamation text-yellow-500";
                    badge = "CAPTCHA!";
                }
                else if(bot.is_error) { 
                    statusColor = "bg-red-900/20 border-red-800 blink-bg"; 
                    icon = "fa-bomb text-red-500";
                    badge = "ERROR";
                }
                else if(bot.type === "PAUSED") { 
                    statusColor = "bg-red-900/20 border-red-800"; 
                    icon = "fa-pause"; 
                    badge = "STOPPED";
                }
                else if(bot.type === "SCOUT") { 
                    statusColor = "bg-purple-900/20 border-purple-800"; 
                    icon = "fa-binoculars text-purple-400"; 
                    badge = "SCOUT";
                }
                else if(bot.type === "WORKER") { 
                    statusColor = "bg-blue-900/20 border-blue-800"; 
                    icon = "fa-briefcase text-blue-400"; 
                    badge = "WORKER";
                }

                grid.innerHTML += `
                    <div class="${statusColor} border rounded p-2 flex items-center gap-2 shadow-md transition-all">
                        <i class="fa-solid ${icon} text-lg w-6 text-center"></i>
                        <div class="overflow-hidden flex-1">
                            <div class="flex justify-between">
                                <span class="font-bold text-[10px] text-gray-300 truncate">${bot.name}</span>
                                <span class="text-[8px] font-bold border border-white/20 px-1 rounded">${badge}</span>
                            </div>
                            <div class="text-[9px] text-gray-400 truncate mt-1" title="${bot.message}">${bot.message}</div>
                        </div>
                    </div>
                `;
            });
        });
