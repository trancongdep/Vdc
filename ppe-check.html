<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VDC - Ki·ªÉm tra PPE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        body { background-color: #f0fdf4; user-select: none; }
        
        /* Khung ch·ª©a nh√¢n v·∫≠t */
        .character-container {
            position: relative;
            width: 300px;
            height: 500px;
            margin: 0 auto;
            background-image: url('https://img.freepik.com/free-vector/builder-character-uniform_1308-36171.jpg?w=360'); /* ·∫¢nh n·ªÅn c∆° th·ªÉ (Body) */
            background-size: cover;
            background-position: center;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        /* C√°c ƒëi·ªÉm n√≥ng (Hotspots) - V√πng b·∫•m */
        .hazard-spot {
            position: absolute;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px dashed rgba(220, 38, 38, 0.5); /* Vi·ªÅn ƒë·ªè nh·∫°t g·ª£i √Ω */
            background-color: rgba(255, 255, 255, 0.1);
        }
        .hazard-spot:hover {
            background-color: rgba(220, 38, 38, 0.1);
            border-color: red;
        }

        /* Tr·∫°ng th√°i ƒê√öNG (Sau khi s·ª≠a) */
        .hazard-spot.fixed {
            border: 2px solid #16a34a; /* Vi·ªÅn xanh */
            background-color: rgba(22, 163, 74, 0.2);
            pointer-events: none; /* Kh√¥ng cho b·∫•m n·ªØa */
        }

        /* Nh√£n hi·ªÉn th·ªã l·ªói/s·ª≠a l·ªói */
        .status-badge {
            position: absolute;
            right: -140px;
            top: 50%;
            transform: translateY(-50%);
            background: white;
            padding: 8px 12px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            font-size: 12px;
            font-weight: bold;
            width: 130px;
            opacity: 0;
            transition: opacity 0.3s;
        }
        .hazard-spot:hover .status-badge { opacity: 1; }
        .hazard-spot.fixed .status-badge { opacity: 1; }

        /* Icon tr·∫°ng th√°i */
        .icon-state { font-size: 20px; margin-right: 5px; }
    </style>
</head>
<body class="h-screen flex flex-col items-center justify-center font-sans">

    <div class="fixed top-0 w-full bg-blue-900 text-white p-4 z-20 shadow-lg">
        <div class="flex justify-between items-center max-w-md mx-auto">
            <div>
                <h1 class="font-bold">B√ÄI T·∫¨P PPE</h1>
                <p class="text-xs text-blue-200">T√¨m 3 l·ªói sai trang ph·ª•c</p>
            </div>
            <div class="bg-yellow-500 text-blue-900 px-4 py-1 rounded-full font-bold">
                ƒêi·ªÉm: <span id="score">0</span>/30
            </div>
        </div>
    </div>

    <div class="character-container mt-10">
        
        <div id="spot-head" class="hazard-spot" style="top: 2%; left: 35%; width: 30%; height: 15%;" onclick="fixHazard('head')">
            <img id="img-head" src="https://cdn-icons-png.flaticon.com/512/10360/10360947.png" class="hidden w-full h-full object-contain">
            
            <div class="status-badge text-red-600 border-l-4 border-red-500" id="badge-head">
                <span class="icon-state">‚ùå</span> Kh√¥ng quai m≈©
            </div>
        </div>

        <div id="spot-hand" class="hazard-spot" style="top: 40%; left: 5%; width: 20%; height: 20%;" onclick="fixHazard('hand')">
            <img id="img-hand" src="https://cdn-icons-png.flaticon.com/512/8636/8636082.png" class="hidden w-full h-full object-contain">
            <div class="status-badge text-red-600 border-l-4 border-red-500" id="badge-hand">
                <span class="icon-state">‚ùå</span> Thi·∫øu gƒÉng tay
            </div>
        </div>

        <div id="spot-foot" class="hazard-spot" style="bottom: 2%; left: 30%; width: 40%; height: 15%;" onclick="fixHazard('foot')">
            <img id="img-foot" src="https://cdn-icons-png.flaticon.com/512/2669/2669528.png" class="hidden w-full h-full object-contain">
            <div class="status-badge text-red-600 border-l-4 border-red-500" id="badge-foot">
                <span class="icon-state">‚ùå</span> ƒêi gi√†y v·∫£i
            </div>
        </div>

    </div>

    <div id="completion-modal" class="fixed inset-0 bg-black/80 z-50 hidden flex items-center justify-center">
        <div class="bg-white p-6 rounded-xl text-center max-w-xs animate__animated animate__zoomIn">
            <div class="text-5xl mb-2">üéâ</div>
            <h2 class="text-xl font-bold text-green-700">XU·∫§T S·∫ÆC!</h2>
            <p class="text-gray-600 text-sm mb-4">B·∫°n ƒë√£ nh·∫≠n di·ªán ƒë√∫ng t·∫•t c·∫£ c√°c m·ªëi nguy.</p>
            <button onclick="location.reload()" class="bg-blue-600 text-white px-6 py-2 rounded-full font-bold hover:bg-blue-700">L√†m l·∫°i</button>
        </div>
    </div>

    <script>
        let currentScore = 0;
        const maxItems = 3;
        let foundItems = 0;

        // D·ªØ li·ªáu n·ªôi dung (Text)
        const feedbackData = {
            'head': { wrong: 'Kh√¥ng quai m≈©', right: 'ƒê√£ c√†i quai an to√†n' },
            'hand': { wrong: 'Thi·∫øu gƒÉng tay', right: 'ƒê√£ ƒëeo gƒÉng tay' },
            'foot': { wrong: 'ƒêi gi√†y v·∫£i', right: 'Gi√†y b·∫£o h·ªô chu·∫©n' }
        };

        function fixHazard(partId) {
            const spot = document.getElementById(`spot-${partId}`);
            const badge = document.getElementById(`badge-${partId}`);
            const img = document.getElementById(`img-${partId}`);
            const scoreEl = document.getElementById('score');

            // 1. Thay ƒë·ªïi giao di·ªán sang "ƒê√öNG"
            spot.classList.add('fixed');
            
            // 2. Hi·ªán ·∫£nh ƒë·ªì b·∫£o h·ªô ƒë√∫ng (Overlay)
            img.classList.remove('hidden');
            img.classList.add('animate__animated', 'animate__bounceIn'); // Hi·ªáu ·ª©ng n·∫£y

            // 3. C·∫≠p nh·∫≠t Text Badge
            badge.className = "status-badge text-green-700 border-l-4 border-green-500";
            badge.innerHTML = `<span class="icon-state">‚úÖ</span> ${feedbackData[partId].right}`;

            // 4. C·ªông ƒëi·ªÉm
            currentScore += 10;
            scoreEl.innerText = currentScore;
            
            // Hi·ªáu ·ª©ng c·ªông ƒëi·ªÉm
            scoreEl.classList.add('animate__animated', 'animate__heartBeat');
            setTimeout(() => scoreEl.classList.remove('animate__animated', 'animate__heartBeat'), 500);

            // 5. Ki·ªÉm tra chi·∫øn th·∫Øng
            foundItems++;
            if (foundItems === maxItems) {
                setTimeout(() => {
                    document.getElementById('completion-modal').classList.remove('hidden');
                    // Ph√°t √¢m thanh chi·∫øn th·∫Øng (n·∫øu c√≥)
                }, 1000);
            }
        }
    </script>
</body>
</html>
